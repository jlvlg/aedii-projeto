\hypertarget{json__object__iterator_8h}{}\doxysection{src/libs/external/json-\/c/json\+\_\+object\+\_\+iterator.h File Reference}
\label{json__object__iterator_8h}\index{src/libs/external/json-\/c/json\_object\_iterator.h@{src/libs/external/json-\/c/json\_object\_iterator.h}}


An API for iterating over json\+\_\+type\+\_\+object objects, styled to be familiar to C++ programmers. Unlike \mbox{\hyperlink{json__object_8h_acf5f514a9e0061c10fc08055762639ee}{json\+\_\+object\+\_\+object\+\_\+foreach()}} and \mbox{\hyperlink{json__object_8h_a71f07006c12d78f7bbf4cb716a5af3a6}{json\+\_\+object\+\_\+object\+\_\+foreach\+C()}}, this avoids the need to expose json-\/c internals like \mbox{\hyperlink{structlh__entry}{lh\+\_\+entry}}.  


{\ttfamily \#include \char`\"{}json\+\_\+types.\+h\char`\"{}}\newline
{\ttfamily \#include $<$stddef.\+h$>$}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}}
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} \mbox{\hyperlink{json__object__iterator_8h_ae93958fa755852192553f1686d248cd1}{json\+\_\+object\+\_\+iter\+\_\+init\+\_\+default}} (void)
\item 
JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} \mbox{\hyperlink{json__object__iterator_8h_afdcd32f83dd8f20e25669f197fb7bde9}{json\+\_\+object\+\_\+iter\+\_\+begin}} (struct \mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\+\_\+object}} $\ast$obj)
\item 
JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} \mbox{\hyperlink{json__object__iterator_8h_a381fbae848a3268013110002d553c32e}{json\+\_\+object\+\_\+iter\+\_\+end}} (const struct \mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\+\_\+object}} $\ast$obj)
\item 
JSON\+\_\+\+EXPORT void \mbox{\hyperlink{json__object__iterator_8h_a8a152d153844f1ec1698419abae8c2e4}{json\+\_\+object\+\_\+iter\+\_\+next}} (struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$iter)
\item 
JSON\+\_\+\+EXPORT const char $\ast$ \mbox{\hyperlink{json__object__iterator_8h_adbbc3583aef14d9416a0fc8dbf750727}{json\+\_\+object\+\_\+iter\+\_\+peek\+\_\+name}} (const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$iter)
\item 
JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\+\_\+object}} $\ast$ \mbox{\hyperlink{json__object__iterator_8h_ad8fe9251ca04af4d8e6840a44de7984b}{json\+\_\+object\+\_\+iter\+\_\+peek\+\_\+value}} (const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$iter)
\item 
JSON\+\_\+\+EXPORT json\+\_\+bool \mbox{\hyperlink{json__object__iterator_8h_a9cbb250d185348e8b193a886c35ae39e}{json\+\_\+object\+\_\+iter\+\_\+equal}} (const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$iter1, const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$iter2)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
An API for iterating over json\+\_\+type\+\_\+object objects, styled to be familiar to C++ programmers. Unlike \mbox{\hyperlink{json__object_8h_acf5f514a9e0061c10fc08055762639ee}{json\+\_\+object\+\_\+object\+\_\+foreach()}} and \mbox{\hyperlink{json__object_8h_a71f07006c12d78f7bbf4cb716a5af3a6}{json\+\_\+object\+\_\+object\+\_\+foreach\+C()}}, this avoids the need to expose json-\/c internals like \mbox{\hyperlink{structlh__entry}{lh\+\_\+entry}}. 

Copyright (c) 2009-\/2012 Hewlett-\/\+Packard Development Company, L.\+P.

This library is free software; you can redistribute it and/or modify it under the terms of the MIT license. See COPYING for details.

API attributes\+: ~\newline

\begin{DoxyItemize}
\item Thread-\/safe\+: NO~\newline

\item Reentrant\+: NO 
\end{DoxyItemize}

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{json__object__iterator_8h_afdcd32f83dd8f20e25669f197fb7bde9}\label{json__object__iterator_8h_afdcd32f83dd8f20e25669f197fb7bde9}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_begin@{json\_object\_iter\_begin}}
\index{json\_object\_iter\_begin@{json\_object\_iter\_begin}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_begin()}{json\_object\_iter\_begin()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} json\+\_\+object\+\_\+iter\+\_\+begin (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\+\_\+object}} $\ast$}]{obj }\end{DoxyParamCaption})}

Retrieves an iterator to the first pair of the JSON Object.

\begin{DoxyWarning}{Warning}
Any modification of the underlying pair invalidates all iterators to that pair.
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em obj} & JSON Object instance (MUST be of type json\+\_\+object)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} If the JSON Object has at least one pair, on return, the iterator refers to the first pair. If the JSON Object doesn\textquotesingle{}t have any pairs, the returned iterator is equivalent to the \char`\"{}end\char`\"{} iterator for the same JSON Object instance.
\end{DoxyReturn}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct }\mbox{\hyperlink{structjson__object__iterator}{json\_object\_iterator}} it;}
\DoxyCodeLine{\textcolor{keyword}{struct }\mbox{\hyperlink{structjson__object__iterator}{json\_object\_iterator}} itEnd;}
\DoxyCodeLine{\textcolor{keyword}{struct }\mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\_object}}* obj;}
\DoxyCodeLine{}
\DoxyCodeLine{obj = \mbox{\hyperlink{json__tokener_8h_a236ef64d079822a4411d13eae7190c4d}{json\_tokener\_parse}}(\textcolor{stringliteral}{"{}\{'first':'george', 'age':100\}"{}});}
\DoxyCodeLine{it = \mbox{\hyperlink{json__object__iterator_8c_a925eb97b5aa5b64986a0f663f53cf0fa}{json\_object\_iter\_begin}}(obj);}
\DoxyCodeLine{itEnd = \mbox{\hyperlink{json__object__iterator_8c_a1fa3784395fb14496e3f1a1633028fd4}{json\_object\_iter\_end}}(obj);}
\DoxyCodeLine{}
\DoxyCodeLine{\textcolor{keywordflow}{while} (!\mbox{\hyperlink{json__object__iterator_8c_a878ca25f72b339882aa2607ac938e79c}{json\_object\_iter\_equal}}(\&it, \&itEnd)) \{}
\DoxyCodeLine{    printf(\textcolor{stringliteral}{"{}\%s\(\backslash\)n"{}},}
\DoxyCodeLine{           \mbox{\hyperlink{json__object__iterator_8c_af17775b9b812a4206a84e4d3fb5774ab}{json\_object\_iter\_peek\_name}}(\&it));}
\DoxyCodeLine{    \mbox{\hyperlink{json__object__iterator_8c_aa98a310c340f6d9b4eeecb673aa5e240}{json\_object\_iter\_next}}(\&it);}
\DoxyCodeLine{\}}

\end{DoxyCode}


\DoxyHorRuler{0}
 \begin{DoxyNote}{Note}
json\+\_\+object\+\_\+get\+\_\+object will return NULL if passed NULL or a non-\/json\+\_\+type\+\_\+object instance

For a pair-\/less Object, head is NULL, which matches our definition of the \char`\"{}end\char`\"{} iterator
\end{DoxyNote}
\mbox{\Hypertarget{json__object__iterator_8h_a381fbae848a3268013110002d553c32e}\label{json__object__iterator_8h_a381fbae848a3268013110002d553c32e}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_end@{json\_object\_iter\_end}}
\index{json\_object\_iter\_end@{json\_object\_iter\_end}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_end()}{json\_object\_iter\_end()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} json\+\_\+object\+\_\+iter\+\_\+end (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\+\_\+object}} $\ast$}]{obj }\end{DoxyParamCaption})}

Retrieves the iterator that represents the position beyond the last pair of the given JSON Object instance.

\begin{DoxyWarning}{Warning}
Do NOT write code that assumes that the \char`\"{}end\char`\"{} iterator value is NULL, even if it is so in a particular instance of the implementation.
\end{DoxyWarning}
\begin{DoxyNote}{Note}
The reason we do not (and MUST NOT) provide \char`\"{}json\+\_\+object\+\_\+iter\+\_\+is\+\_\+end(json\+\_\+object\+\_\+iterator$\ast$ iter)\char`\"{} type of API is because it would limit the underlying representation of name/value containment (or force us to add additional, otherwise unnecessary, fields to the iterator structure). The \char`\"{}end\char`\"{} iterator and the equality test method, on the other hand, permit us to cleanly abstract pretty much any reasonable underlying representation without burdening the iterator structure with unnecessary data.

For performance reasons, memorize the \char`\"{}end\char`\"{} iterator prior to any loop.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em obj} & JSON Object instance (MUST be of type json\+\_\+object)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} On return, the iterator refers to the \char`\"{}end\char`\"{} of the Object instance\textquotesingle{}s pairs (i.\+e., NOT the last pair, but \char`\"{}beyond the last              pair\char`\"{} value)
\end{DoxyReturn}
\DoxyHorRuler{0}
 \mbox{\Hypertarget{json__object__iterator_8h_a9cbb250d185348e8b193a886c35ae39e}\label{json__object__iterator_8h_a9cbb250d185348e8b193a886c35ae39e}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_equal@{json\_object\_iter\_equal}}
\index{json\_object\_iter\_equal@{json\_object\_iter\_equal}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_equal()}{json\_object\_iter\_equal()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT json\+\_\+bool json\+\_\+object\+\_\+iter\+\_\+equal (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$}]{iter1,  }\item[{const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$}]{iter2 }\end{DoxyParamCaption})}

Tests two iterators for equality. Typically used to test for end of iteration by comparing an iterator to the corresponding \char`\"{}end\char`\"{} iterator (that was derived from the same JSON Object instance).

\begin{DoxyNote}{Note}
The reason we do not (and MUST NOT) provide \char`\"{}json\+\_\+object\+\_\+iter\+\_\+is\+\_\+end(json\+\_\+object\+\_\+iterator$\ast$ iter)\char`\"{} type of API is because it would limit the underlying representation of name/value containment (or force us to add additional, otherwise unnecessary, fields to the iterator structure). The equality test method, on the other hand, permits us to cleanly abstract pretty much any reasonable underlying representation.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em iter1} & Pointer to first valid, non-\/\+NULL iterator \\
\hline
{\em iter2} & POinter to second valid, non-\/\+NULL iterator\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
if a NULL iterator pointer or an uninitialized or invalid iterator, or iterators derived from different JSON Object instances are passed, bad things will happen!
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
json\+\_\+bool non-\/zero if iterators are equal (i.\+e., both reference the same name/value pair or are both at \char`\"{}end\char`\"{}); zero if they are not equal.
\end{DoxyReturn}
\DoxyHorRuler{0}
 \mbox{\Hypertarget{json__object__iterator_8h_ae93958fa755852192553f1686d248cd1}\label{json__object__iterator_8h_ae93958fa755852192553f1686d248cd1}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_init\_default@{json\_object\_iter\_init\_default}}
\index{json\_object\_iter\_init\_default@{json\_object\_iter\_init\_default}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_init\_default()}{json\_object\_iter\_init\_default()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} json\+\_\+object\+\_\+iter\+\_\+init\+\_\+default (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}

Initializes an iterator structure to a \char`\"{}default\char`\"{} value that is convenient for initializing an iterator variable to a default state (e.\+g., initialization list in a class\textquotesingle{} constructor).


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{struct }\mbox{\hyperlink{structjson__object__iterator}{json\_object\_iterator}} iter = \mbox{\hyperlink{json__object__iterator_8c_af30f56ca510d59da42e5592f9a436c10}{json\_object\_iter\_init\_default}}();}
\DoxyCodeLine{MyClass() : iter\_(\mbox{\hyperlink{json__object__iterator_8c_af30f56ca510d59da42e5592f9a436c10}{json\_object\_iter\_init\_default}}())}

\end{DoxyCode}


\begin{DoxyNote}{Note}
The initialized value doesn\textquotesingle{}t reference any specific pair, is considered an invalid iterator, and MUST NOT be passed to any json-\/c API that expects a valid iterator.

User and internal code MUST NOT make any assumptions about and dependencies on the value of the \char`\"{}default\char`\"{} iterator value.
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}}
\end{DoxyReturn}
\DoxyHorRuler{0}
 \begin{DoxyNote}{Note}
Make this a negative, invalid value, such that accidental access to it would likely be trapped by the hardware as an invalid address.
\end{DoxyNote}
\mbox{\Hypertarget{json__object__iterator_8h_a8a152d153844f1ec1698419abae8c2e4}\label{json__object__iterator_8h_a8a152d153844f1ec1698419abae8c2e4}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_next@{json\_object\_iter\_next}}
\index{json\_object\_iter\_next@{json\_object\_iter\_next}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_next()}{json\_object\_iter\_next()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT void json\+\_\+object\+\_\+iter\+\_\+next (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$}]{iter }\end{DoxyParamCaption})}

Returns an iterator to the next pair, if any

\begin{DoxyWarning}{Warning}
Any modification of the underlying pair invalidates all iterators to that pair.
\end{DoxyWarning}

\begin{DoxyParams}{Parameters}
{\em iter} & \mbox{[}IN/\+OUT\mbox{]} Pointer to iterator that references a name/value pair; MUST be a valid, non-\/end iterator. WARNING\+: bad things will happen if invalid or \char`\"{}end\char`\"{} iterator is passed. Upon return will contain the reference to the next pair if there is one; if there are no more pairs, will contain the \char`\"{}end\char`\"{} iterator value, which may be compared against the return value of \mbox{\hyperlink{json__object__iterator_8c_a1fa3784395fb14496e3f1a1633028fd4}{json\+\_\+object\+\_\+iter\+\_\+end()}} for the same JSON Object instance.\\
\hline
\end{DoxyParams}
\DoxyHorRuler{0}
 \mbox{\Hypertarget{json__object__iterator_8h_adbbc3583aef14d9416a0fc8dbf750727}\label{json__object__iterator_8h_adbbc3583aef14d9416a0fc8dbf750727}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_peek\_name@{json\_object\_iter\_peek\_name}}
\index{json\_object\_iter\_peek\_name@{json\_object\_iter\_peek\_name}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_peek\_name()}{json\_object\_iter\_peek\_name()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT const char$\ast$ json\+\_\+object\+\_\+iter\+\_\+peek\+\_\+name (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$}]{iter }\end{DoxyParamCaption})}

Returns a const pointer to the name of the pair referenced by the given iterator.


\begin{DoxyParams}{Parameters}
{\em iter} & pointer to iterator that references a name/value pair; MUST be a valid, non-\/end iterator.\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
bad things will happen if an invalid or \char`\"{}end\char`\"{} iterator is passed.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
const char$\ast$ Pointer to the name of the referenced name/value pair. The name memory belongs to the name/value pair, will be freed when the pair is deleted or modified, and MUST NOT be modified or freed by the user.
\end{DoxyReturn}
\DoxyHorRuler{0}
 \mbox{\Hypertarget{json__object__iterator_8h_ad8fe9251ca04af4d8e6840a44de7984b}\label{json__object__iterator_8h_ad8fe9251ca04af4d8e6840a44de7984b}} 
\index{json\_object\_iterator.h@{json\_object\_iterator.h}!json\_object\_iter\_peek\_value@{json\_object\_iter\_peek\_value}}
\index{json\_object\_iter\_peek\_value@{json\_object\_iter\_peek\_value}!json\_object\_iterator.h@{json\_object\_iterator.h}}
\doxysubsubsection{\texorpdfstring{json\_object\_iter\_peek\_value()}{json\_object\_iter\_peek\_value()}}
{\footnotesize\ttfamily JSON\+\_\+\+EXPORT struct \mbox{\hyperlink{json__types_8h_af27907ced0f5a43409ad96430fe0f914}{json\+\_\+object}}$\ast$ json\+\_\+object\+\_\+iter\+\_\+peek\+\_\+value (\begin{DoxyParamCaption}\item[{const struct \mbox{\hyperlink{structjson__object__iterator}{json\+\_\+object\+\_\+iterator}} $\ast$}]{iter }\end{DoxyParamCaption})}

Returns a pointer to the json-\/c instance representing the value of the referenced name/value pair, without altering the instance\textquotesingle{}s reference count.


\begin{DoxyParams}{Parameters}
{\em iter} & pointer to iterator that references a name/value pair; MUST be a valid, non-\/end iterator.\\
\hline
\end{DoxyParams}
\begin{DoxyWarning}{Warning}
bad things will happen if invalid or \char`\"{}end\char`\"{} iterator is passed.
\end{DoxyWarning}
\begin{DoxyReturn}{Returns}
struct json\+\_\+object$\ast$ Pointer to the json-\/c value instance of the referenced name/value pair; the value\textquotesingle{}s reference count is not changed by this function\+: if you plan to hold on to this json-\/c node, take a look at \mbox{\hyperlink{json__object_8h_a675aa3a9cced685dbfd1c1a770a0c3e4}{json\+\_\+object\+\_\+get()}} and \mbox{\hyperlink{json__object_8h_afabf61f932cd64a4122ca8092452eed5}{json\+\_\+object\+\_\+put()}}. IMPORTANT\+: json-\/c API represents the JSON Null value as a NULL json\+\_\+object instance pointer.
\end{DoxyReturn}
\DoxyHorRuler{0}
 